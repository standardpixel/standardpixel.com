<header>
	<button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
		<span class="theme-icon">‚òÄÔ∏è</span>
		<span class="theme-text">Light</span>
	</button>
	<div id='logo'{% if page.show_home_link %} onclick="document.location.href='/'"{% endif %}>
		<div class="illustration">
			<div class="block-1 first"></div>
			<div class="block-2"></div>
			<div class="block-3"></div>
			<div class="block-4"></div>
		</div>
		<div class="logo-text">
			<span class="logo-standard">Standard</span>
			<span class="logo-pixel">Pixel</span>
		</div>
	</div>
	<h1 id="site-tagline"{% if page.header_style %} style="{{ page.header_style }}"{% endif %}>{% if page.header_text %}{{ page.header_text }}{% else %}Hello, I am Eric Gelinas. StandardPixel.com is my website. A website is like TikTok for people who remember Laser Disks{% endif %}</h1>
</header>

<script>
// Dark mode toggle with system preference detection
(function() {
	const toggle = document.getElementById('theme-toggle');
	const icon = toggle.querySelector('.theme-icon');
	const text = toggle.querySelector('.theme-text');
	const html = document.documentElement;

	// Get saved theme or detect system preference
	function getPreferredTheme() {
		const saved = localStorage.getItem('theme');
		if (saved) return saved;

		return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
	}

	// Apply theme
	function applyTheme(theme) {
		if (theme === 'dark') {
			html.setAttribute('data-theme', 'dark');
			icon.textContent = 'üåô';
			text.textContent = 'Dark';
		} else {
			html.setAttribute('data-theme', 'light');
			icon.textContent = '‚òÄÔ∏è';
			text.textContent = 'Light';
		}
	}

	// Toggle theme
	function toggleTheme() {
		const current = html.getAttribute('data-theme') || getPreferredTheme();
		const next = current === 'dark' ? 'light' : 'dark';
		applyTheme(next);
		localStorage.setItem('theme', next);
	}

	// Initialize
	applyTheme(getPreferredTheme());

	// Listen for toggle clicks
	toggle.addEventListener('click', toggleTheme);

	// Listen for system preference changes
	window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
		if (!localStorage.getItem('theme')) {
			applyTheme(e.matches ? 'dark' : 'light');
		}
	});
})();
</script>

{% unless page.header_text %}
<script>
(function() {
	const modernThings = [
		'TikTok',
		'Discord',
		'Spotify',
		'Instagram Reels',
		'ChatGPT',
		'Notion',
		'Slack',
		'streaming on Twitch',
		'YouTube',
		'podcasts',
		'Netflix'
	];

	const ninetiesThings = [
		'Laser Discs',
		'VHS tapes',
		'Blockbuster',
		'dial-up modems',
		'CD-ROMs',
		'AOL',
		'Netscape Navigator',
		'pagers',
		'Tamagotchis',
		'MiniDiscs',
		'floppy disks',
		'Windows 95',
		'Walkmans',
		'calling 411 for information',
		'paging your friends 911'
	];

	function getRandomItem(array) {
		return array[Math.floor(Math.random() * array.length)];
	}

	const modernThing = getRandomItem(modernThings);
	const ninetiesThing = getRandomItem(ninetiesThings);

	const tagline = document.getElementById('site-tagline');
	if (tagline) {
		tagline.textContent = `Hello, I am Eric Gelinas. StandardPixel.com is my website. A website is like ${modernThing} for people who remember ${ninetiesThing}`;
	}
})();
</script>
{% endunless %}
